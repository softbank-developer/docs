# NLC機能 概要

## 1. 学習機能

- ユーザー指定のテキスト列とクラス列について、ユーザー指定行以下のデータを学習データとして、ユーザーが指定した最大3つのNLC classifierへ、トレーニングリクエストを投げられる。

- 上記トレーニングにおいて、テキストまたはクラスが未記入または空白文字のみであるエントリはスキップされる

- 上記トレーニングは手動または、Googleスクリプトのトリガ設定によりトリガできる

- 実行結果については、SB指定の名前のシートに、処理の対象シート・列・行と実行結果が、タイムスタンプと共にログとして記録される（Watsonから応答がない場合も何らかのログが残る）

- ユーザー指定セルに最新の（学習し直した場合は新しい）ClassifierIDとそのステータスが表示される。ステータスは一定間隔で更新される。

- 各種パラメータの設定がスプレッドシート上で実施できる。

- Classifierは２世代まで保持し、それ以前のものは新規作成時に削除する

- リクエスト発行前に対象学習データに対して以下前処理を行う。

	- 改行コードの削除
	- ダブルコーテーションのエスケープ

---


## 2. 分類機能

- ユーザー指定スプレッドシートの、ユーザー指定列の、ユーザー指定行以下のテキストを処理対象にできる。

- 対象のうち、未処理のものを抽出し、処理対象にできる。

!!! question "未処理のものとは"

	- 処理済みの状態は、分類結果欄にインテント名が記載される
	- 未処理のものは、分類結果欄が空白のテキスト


- 処理対象のテキストについて、ユーザの指定したNLCの分類器に処理を投げ、結果を受け取ることができる

- エラーだった場合は、HTTPのコードとエラーメッセージを受け取ることができる

- 本処理は、内部からの呼び出しの他、Googleスクリプトの各種トリガ設定によりトリガできる。

- ユーザーの指定により、最大3つまでのclassifierで処理ができる。

- 各種パラメータの設定がスプレッドシート上で実施できる。

---

## 3. 分類結果記録機能

- 分類処理をしたテキストと、分類結果をタイムスタンプ共に記録できる。

- 記録は、分類対象のテキストがあるシートの、分類対象のテキストがある行の、ユーザー指定の列に残される。

- 各種パラメータの設定がスプレッドシート上で実施できる。

---

## 4. 分類結果通知機能

- 分類結果によって、宛先、件名、本文が異なるメールを送信できる。

- 分類結果と対応する、宛先、件名、本文については、SB指定の名前のシートで管理する。

- 本機能は、ユーザーの指定によりオフにできる。

